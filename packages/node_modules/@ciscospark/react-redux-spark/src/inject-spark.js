import React from 'react';
import PropTypes from 'prop-types';
import {wrapDisplayName} from 'recompose';

import SparkComponent from './component';

import styles from './styles.css';

const propTypes = {
  accessToken: PropTypes.string,
  guestToken: PropTypes.string
};

const defaultProps = {
  accessToken: '',
  guestToken: ''
};

export default function injectSpark(BaseComponent) {
  function WithSpark(props) {
    return (
      <div className={styles.wrapper}>
        <SparkComponent {...props} />
        <BaseComponent {...props} />
      </div>
    );
  }
  WithSpark.propTypes = propTypes;
  WithSpark.defaultProps = defaultProps;
  WithSpark.displayName = wrapDisplayName(BaseComponent, 'WithSpark');

  return WithSpark;
}

export function withSpark() {
  return (BaseComponent) => injectSpark(BaseComponent);
}
