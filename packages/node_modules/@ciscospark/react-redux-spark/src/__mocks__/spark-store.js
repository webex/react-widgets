// Store for testing
import {
  applyMiddleware,
  combineReducers,
  compose,
  createStore
} from 'redux';
import configureMockStore from 'redux-mock-store';
import thunk from 'redux-thunk';

import reducers, {initialState} from '../reducer';
import createSpark from '../fixtures/spark';


export function createMockStore() {
  const mockStore = configureMockStore([thunk]);
  const store = mockStore({
    spark: initialState.set(`spark`, createSpark())
  });
  return store;
}

export default createStore(
  combineReducers({
    spark: reducers
  }),
  compose([
    applyMiddleware(thunk)
  ])
);
